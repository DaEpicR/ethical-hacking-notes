# Exploiting Active Directory - Medium

1. [Exploiting Permission Delegation](#exploiting-permission-delegation)
2. [Exploiting Kerberos Delegation](#exploiting-kerberos-delegation)
3. [Exploiting Automated Relays](#exploiting-automated-relays)
4. [Exploiting AD Users](#exploiting-ad-users)
5. [Exploiting GPOs](#exploiting-gpos)
6. [Exploiting Certificates](#exploiting-certificates)
7. [Exploiting Domain Trusts](#exploiting-domain-trusts)

## Exploiting Permission Delegation

```markdown
1. Which ACE would allow you to update any non-protected parameter of a target object?

2. What is the value of the flag stored on the Desktop of the Administrator user on THMWRK1 (flag1.txt)?
```

## Exploiting Kerberos Delegation

```markdown
1. Which Kerberos Delegation type allows for delegation of all services?

2. Which Kerberos Delegation type allows the service to specify who is allowed to delegate to it?

3. Which Constrained Delegation service allows access to the file system of the system via delegation?

4. What is the value of the flag stored in the Desktop directory of the Administrator user on THMSERVER1 (flag2.txt)?
```

## Exploiting Automated Relays

```markdown
1. How often (in days) are the passwords of Windows machine accounts rotated by default?

2. What should not be enforced if we want to relay an SMB authentication attempt?

3. What is the value of the flag stored in the Desktop directory of the Administrator.ZA user on THMSERVER1 (flag3.txt)?
```

## Exploiting AD Users

```markdown
1. What application is used to open the kdbx credential database?

2. What meterpreter command do we use to move from SYSTEM to user context?

3. What is the password of the credential database?

4. What is the value of the flag stored in the credential database?
```

## Exploiting GPOs

```markdown
1. What object allows users to configure Windows policies?

2. What AD feature allows us to configure GPOs for the entire AD structure?

3. What is the name of the GPO that our compromised AD account owns?

4. What is the value of the flag stored on THMSERVER2 in the Administrator's Desktop directory (flag4.txt)?
```

## Exploiting Certificates

```markdown
1. What does the user create to ask the CA for a certificate?

2. What is the name of Microsoft's PKI implementation?

3. What is the value of the flag stored on THMDC in the Administrator's Desktop directory (flag5.txt)?
```

## Exploiting Domain Trusts

```markdown
1. What domain trust relationship is by default configured between a parent and a child domain?

2. What is the name of the AD account used by the KDC to encrypt and sign TGTs?

3. What is the name of the TGT that grants access to resources outside of our current domain?

4. What is the value of the flag stored on THMROOTDC in the Administrator's Desktop folder (flag6.txt)?
```
